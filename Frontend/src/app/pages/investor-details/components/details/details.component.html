<div class="card detail" *ngIf="investorDetail">
  <div class="grid">
    <div class="col-5 flex justify-content-center">
      <div class="p-col p-d-flex p-ai-center p-jc-center">
        <div class="p-info">
          <p-card [style]="{ height: '18rem' }">
            <h2>
              <b>Personal Info </b
              ><i class="pi pi-pencil" style="cursor: pointer"></i>
            </h2>
            <div class="item-row">
              <h4>Investor ID</h4>
              <span><strong>MY4STUONRY</strong></span>
            </div>

            <div class="item-row">
              <h4>D.O.B</h4>
              <span
                ><strong>{{ investorDetail.info.dob }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>Gender</h4>
              <span
                ><strong>{{ investorDetail.user.gender }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>Mobile Number</h4>
              <span
                ><strong>{{ investorDetail.user.mobile_number }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>PAN Number</h4>
              <span
                ><strong>{{ investorDetail.info.pan }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>Aadhar Number</h4>
              <span
                ><strong>{{ investorDetail.info.aadhaar }}</strong></span
              >
            </div>
          </p-card>
        </div>

        <div class="address">
          <p-card [style]="{ height: '21rem' }">
            <h2>
              <b>Address </b
              ><i class="pi pi-pencil" style="cursor: pointer"></i>
            </h2>
            <div class="item-row">
              <h4>Location</h4>
              <span
                ><strong>{{ investorDetail.address.location }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>Landmark</h4>
              <span
                ><strong>{{ investorDetail.address.landmark }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>City</h4>
              <span
                ><strong>{{ investorDetail.address.city }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>District</h4>
              <span
                ><strong>{{ investorDetail.address.district }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>State</h4>
              <span
                ><strong>{{ investorDetail.address.state }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>Country</h4>
              <span
                ><strong>{{ investorDetail.address.country }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>Pincode</h4>
              <span
                ><strong>{{ investorDetail.address.pin_code }}</strong></span
              >
            </div>
          </p-card>
        </div>
        <div class="bank-details">
          <p-card [style]="{ height: '16rem' }">
            <h2>
              <b>Bank Account Details </b
              ><i class="pi pi-pencil" style="cursor: pointer"></i>
            </h2>
            <div class="item-row">
              <h4>Account Number</h4>
              <span
                ><strong>{{ investorDetail.bank.account_number }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>IFSC Code</h4>
              <span
                ><strong>{{ investorDetail.bank.ifsc }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>Account Holder Name</h4>
              <span
                ><strong>{{ investorDetail.bank.holder_name }}</strong></span
              >
            </div>
            <div class="item-row">
              <h4>Account Type</h4>
              <span><strong>Savings</strong></span>
            </div>
            <div class="item-row">
              <h4>Bank Name</h4>
              <span
                ><strong>{{ investorDetail.bank.bank_name }}</strong></span
              >
            </div>
          </p-card>
        </div>
      </div>
    </div>

    <div class="col-2">
      <p-divider layout="vertical"> </p-divider>
    </div>

    <div class="col-5 flex justify-content-center">
      <div class="p-col p-d-flex p-ai-center p-jc-center">
        <div class="registration_fees">
          <p-card header="Registration Fee">
            <div class="grid">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': investorDetail.info.rf_paid,
                      'pi-times-circle': !investorDetail.info.rf_paid
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-9">
                <h3>{{ investorDetail.info.rf_amount | number : "1.2" }}</h3>
              </div>
            </div>
          </p-card>
        </div>
        <br />

        <div class="documents">
          <p-card>
            <div class="grid">
              <div class="col-9">
                <h2>
                  <b>{{
                    documents.length ? "Documents" : "No documents found! "
                  }}</b>
                </h2>
              </div>
              <div class="col-3">
                <button
                  pButton
                  pRipple
                  (click)="showDialog()"
                  type="button"
                  label="Upload"
                  class="p-button-outlined"
                  style="margin-top: -2rem; height: 34px"
                ></button>
              </div>
            </div>
            <div class="grid" *ngFor="let doc of documents">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': doc.is_valid,
                      'pi-times-circle': !doc.is_valid
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-7">
                {{ doc.type.type }}
              </div>
              <div class="col-2">
                <i
                  class="pi pi-eye cursor-pointer mr-2"
                  (click)="viewDocument(doc)"
                ></i>
                <i
                  class="pi pi-ellipsis-v cursor-pointer"
                  (click)="
                    selectedDocument = doc; documentAction.toggle($event)
                  "
                ></i>
              </div>
            </div>
          </p-card>
        </div>

        <div class="pollices">
          <p-card header="Pollices">
            <div class="grid">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': investorDetail.info.tnc_accepted,
                      'pi-times-circle': !investorDetail.info.tnc_accepted
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-9"><h3>TnC</h3></div>
            </div>
            <div class="grid">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': investorDetail.info.pp_accepted,
                      'pi-times-circle': !investorDetail.info.pp_accepted
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-9"><h3>Privacy Policy</h3></div>
            </div>
            <div class="grid">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': investorDetail.info.gdpr_accepted,
                      'pi-times-circle': !investorDetail.info.gdpr_accepted
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-9"><h3>GDPR</h3></div>
            </div>
            <div class="grid">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': investorDetail.info.sp_accepted,
                      'pi-times-circle': !investorDetail.info.sp_accepted
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-9"><h3>Security Policy</h3></div>
            </div>
          </p-card>
        </div>

        <div class="pollices" *ngIf="setting">
          <p-card header="Settings">
            <div class="grid">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': setting.sms_notification,
                      'pi-times-circle': !setting.sms_notification
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-9"><h3>SMS Notification</h3></div>
            </div>
            <div class="grid">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': setting.email_notification,
                      'pi-times-circle': !setting.email_notification
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-9"><h3>Email Notification</h3></div>
            </div>
            <div class="grid">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': setting.call_notification,
                      'pi-times-circle': !setting.call_notification
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-9"><h3>Call Notification For Deals</h3></div>
            </div>
            <div class="grid">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': setting.hot_deals_update,
                      'pi-times-circle': !setting.hot_deals_update
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-9"><h3>Hot Deals Update</h3></div>
            </div>
            <div class="grid">
              <div class="col-1"></div>
              <div class="col-2">
                <h4>
                  <i
                    class="pi"
                    [ngClass]="{
                      'pi-verified': setting.news_letter,
                      'pi-times-circle': !setting.news_letter
                    }"
                  ></i>
                </h4>
              </div>
              <div class="col-9"><h3>News Letter</h3></div>
            </div>
          </p-card>
        </div>
      </div>
    </div>
  </div>
</div>
<p-menu #documentAction [popup]="true" [model]="items"></p-menu>
<p-toast position="top-right"></p-toast>

<p-dialog
  [header]="selectedDocument.type.type"
  [(visible)]="showDocument"
  [modal]="true"
  [style]="{ width: '450px' }"
  *ngIf="selectedDocument"
  [draggable]="false"
>
  <img [src]="selectedDocument.file" alt="document" class="doc-image" />
</p-dialog>

<app-add-note-modal [title]="'Add Note'"></app-add-note-modal>

<p-dialog
  header="Upload Document"
  [(visible)]="visible"
  [responsive]="true"
  [modal]="true"
  [style]="{ width: '430px' }"
>
  <div class="p-fluid">
    <div class="p-field">
      <p-dropdown
        appendTo="body"
        [options]="documentTypesList"
        [(ngModel)]="selectedDocumentType"
        placeholder="Select a Document"
        optionLabel="type"
        [style]="{ minWidth: '100%' }"
      ></p-dropdown>
    </div>
    <br />
    <div class="p-field">
      <p-fileUpload
        #uploadFile
        mode="advanced"
        chooseLabel="Choose"
        name="documentFile"
        (onSelect)="onFileSelect($event)"
        (onClear)="onClear()"
        [fileLimit]="1"
        accept=".jpeg,.pdf,.jpg,.png"
        [showUploadButton]="false"
      ></p-fileUpload>
    </div>
  </div>
  <p-footer>
    <button
      pButton
      type="button"
      label="Cancel"
      (click)="hideDialog()"
      class="p-button-secondary"
    ></button>
    <button
      pButton
      type="button"
      label="Upload"
      [disabled]="
        selectedFile == null || !selectedDocumentType || fileUploadLoading
      "
      (click)="uploadDocument()"
    ></button>
  </p-footer>
</p-dialog>
